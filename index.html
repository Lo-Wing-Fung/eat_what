<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>‰ªäÊó•ÂêÉÂï• (ÁßëÂ≠∏Âúí)</title>
  <style>
    body{margin:0;font-family:sans-serif;background:#fafafa;color:#111}
    header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;background:#fff;position:sticky;top:0;z-index:10;border-bottom:1px solid #ddd}
    h1{margin:0;font-size:18px}
    .actions{display:flex;gap:8px}
    button{border:none;background:#fff;border-radius:50%;width:40px;height:40px;box-shadow:0 1px 3px rgba(0,0,0,.1);cursor:pointer}
    main{padding:12px;display:grid;gap:12px}
    .card{background:#fff;border-radius:14px;padding:12px 14px;box-shadow:0 2px 6px rgba(0,0,0,.1);transition:.4s}
    .card.gone{display:none}
    .title{font-weight:bold;margin-bottom:4px}
    .meta{font-size:13px;color:#555}
    @keyframes swipeLeft{to{transform:translateX(-120%) rotate(-4deg);opacity:0}}
    @keyframes swipeRight{to{transform:translateX(120%) rotate(4deg);opacity:0}}
    .swipe-left{animation:swipeLeft .1s ease forwards}
    .swipe-right{animation:swipeRight .1s ease forwards}
    .winner{outline:2px solid #10b981;box-shadow:0 0 0 4px rgba(16,185,129,.2)}

    /* card system */
    /* === Rank themes ===
    N=grey, R=blue, SR=green, SSR=gold, UR=lilac
    */
    .card.rank-N   { background:#f3f4f6; border:1px solid #e5e7eb; }
    .card.rank-R   { background:#eff6ff; border:1px solid #dbeafe; }
    .card.rank-SR  { background:#ecfdf5; border:1px solid #d1fae5; }
    .card.rank-SSR { background:#fffbeb; border:1px solid #fde68a; }
    .card.rank-UR  { background:#f5f3ff; border:1px solid #ddd6fe; }

    /* Optional: subtle title color per rank */
    .card.rank-R  .title{ color:#1d4ed8; }
    .card.rank-SR .title{ color:#047857; }
    .card.rank-SSR .title{ color:#b45309; }
    .card.rank-UR .title{ color:#6d28d9; }
    .card.rank-N  .title{ color:#374151; }

    /* Small rank chip */
    .rank-badge{
    display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; margin-left:8px;
    background:#fff; border:1px solid rgba(0,0,0,.08);
    }
    .card.rank-R   .rank-badge{ background:#dbeafe; border-color:#bfdbfe; }
    .card.rank-SR  .rank-badge{ background:#d1fae5; border-color:#a7f3d0; }
    .card.rank-SSR .rank-badge{ background:#fde68a; border-color:#fcd34d; }
    .card.rank-UR  .rank-badge{ background:#ddd6fe; border-color:#c4b5fd; }
    .card.rank-N   .rank-badge{ background:#e5e7eb; border-color:#d1d5db; }



  </style>
</head>
<body>
  <header>
    <h1>‰ªäÊó•ÂêÉÂï•</h1>
    <div class="actions">
      <button id="resetBtn">‚Üª</button>
      <button id="randomBtn">üé≤</button>
    </div>
  </header>
  <main id="list"></main>

  <script>

  const data = [
    // {name:"ËèØÂæ°Áµê", location:"È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∏ÄÊúüÁßëÊäÄÂ§ßÈÅìÊù±1ËôüÊ†∏ÂøÉ2Â∫ßÂú∞‰∏ãS012ËôüËàñ"},
    {name:"Ê®ÇËÜ≥È§êÂÆ§", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1EÂú∞‰∏ãS003DËôüËàñ", rank:"R"},
    {name:"Harbourview Grill", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12EÂú∞‰∏ãS081ËôüËàñ", rank:"R"},
    {name:"Êù±‰∫¨„ÉÅ„Ç´„É©„ÇÅ„Åó", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12EÂú∞‰∏ãS085-S086ËôüËàñ", rank:"R"},
    {name:"Ë≠ö‰ªîÈõ≤ÂçóÁ±≥Á∑ö", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1WÂú∞‰∏ãS013AËôüËàñ", rank:"SR"},
    {name:"Ê≥∞ÊΩÆ", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí5WÂú∞‰∏ãS015-S016ËôüËàñ", rank:"R"},
    {name:"Tom Bar & Grill", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí16EÂú∞‰∏ãS088-S089ËôüËàñ", rank:"R"},
    // {name:"PRET A MANGER (‰ºÅÊ•≠Âª£Â†¥)", location:"È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∏ÄÊúüÁßëÊäÄÂ§ßÈÅìË•ø5Ëôü‰ºÅÊ•≠Âª£Â†¥Âú∞‰∏ãS018ËôüËàñ"},
    {name:"CHIMAC", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí5WÂú∞‰∏ãS017ËôüËàñ", rank:"SR"},
    {name:"ÂõçÊÖ∂ÈÖíÂÆ∂", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1W1Ê®ìS101-S106ËôüËàñ", rank:"SR"},
    {name:"Ê•†Â§©Kitchen", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1WÂú∞‰∏ãS002ËôüËàñ", rank:"SR"},
    {name:"Â§ßÂø´Ê¥ª", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1WÂú∞‰∏ãS013BËôüËàñ", rank:"R"},
    {name:"Êµ∑Èõ≤Ëñà", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1W1Ê®ì101ËôüËàñ", rank:"R"},
    // {name:"HFT Life", location:"Ê≤ôÁî∞È¶ôÊ∏ØÁßëÂ≠∏Âúí‰∏ÄÊúüÁßëÊäÄÂ§ßÈÅìË•ø1ËôüÂú∞‰∏ãS010ËôüËàñ"},
    {name:"ÂÖ´ÊñπÊ£ß", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí16EÂú∞‰∏ãS087ËôüËàñ", rank:"N"},
    {name:"Ë∂ä", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí16EÂú∞‰∏ãS090-091ËôüËàñ", rank:"R"},
    // {name:"ÊòüÂ∑¥ÂÖãÂíñÂï°", location:"ÁßëÊäÄÂ§ßÈÅìË•ø8ËôüÈ¶ôÊ∏ØÁßëÂ≠∏Âúí1ËôüÊ†∏ÂøÉ1Â∫ßÂú∞‰∏ãS001BËôüËàñ"},
    {name:"PizzaExpress", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12EÂú∞‰∏ãS082-S083ËôüËàñ", rank:"R"},
    {name:"ÈÅáË¶ãÂ∞èÈ∫µ", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS035ËôüËàñ", rank:"N"},
    {name:"Food Lab", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS031ËôüËàñ", rank:"R"},
    {name:"SUBWAY", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8W1Ê®ìS131ËôüËàñ", rank:"SR"},
    // {name:"ÂêÉËå∂‰∏âÂçÉ (È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∫åÊúü)", location:"È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∫åÊúüÁßëÊäÄÂ§ßÈÅìË•ø8Ëôü8WÂú∞‰∏ãS033AËôüËàñ"},
    {name:"Ruby Tuesday", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS033ËôüËàñ", rank:"R"},
    {name:"ËòáÂì•Ê∏ÖÊπØËÖ©", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS036ËôüËàñ", rank:"SR"},
    {name:"È∫•Áï∂Âãû", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS037-S039ËôüËàñ", rank:"SSR"},
    {name:"ÂøÖÂãùÂÆ¢", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí8WÂú∞‰∏ãS031AËôüËàñ", rank:"R"},
    {name:"NUK Caf√©", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí10WÂú∞‰∏ãS045ËôüËàñ", rank:"R"},
    // {name:"Ê£ÆÊûóÈ∫µÂåÖ", location:"ÁßëÊäÄÂ§ßÈÅìË•ø10ËôüÈ¶ôÊ∏ØÁßëÂ≠∏Âúí10WÂú∞‰∏ãS046CËôüËàñ"},
    {name:"Snapick", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12W1Ê®ìV003ËôüËàñ", rank:"R"},
    {name:"ÂçÅÂíåÁî∞Â£ΩÂè∏", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12WÂú∞‰∏ãS067-S069ËôüËàñ", rank:"R"},
    {name:"SMACK", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí12W1Ê®ìS161ËôüËàñ", rank:"R"},
    {name:"Wake Up", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí10WÂú∞‰∏ãS041BËôüËàñ", rank:"R"},
    // {name:"ÂíåÁî∞‰æøÁï∂", location:"È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∫åÊúüÁßëÊäÄÂ§ßÈÅìË•ø8ËôüÂ∞öÊπñÊ®ì8WÂ§ßÂ†Ç", rank:"R"},
    {name:"Parc88", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí10WÂú∞‰∏ãS040AËôüËàñ", rank:"R"},
    {name:"Ëæ≤", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí10WÂú∞‰∏ãS041AËôüËàñ", rank:"R"},
    {name:"‰ªôËëâ", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17W1Ê®ì102ËôüËàñ", rank:"R"},
    {name:"ËñàËÅöËªí", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí19W1Ê®ì106-107ËôüËàñ", rank:"N"},
    {name:"sensory ZERO ROASTERLAB", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17WÂú∞‰∏ãG01ËôüËàñ", rank:"SR"},
    {name:"ÊÑõ.Âë≥ÈÅì", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí1EÂú∞‰∏ãS003CËôüËàñ", rank:"R"},
    {name:"Ê≠¶ÂêâÂ£´", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17WÂú∞Ëàñ", rank:"R"},
    {name:"Ebeneezer's Kebabs & Pizzeria", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17WÂú∞‰∏ãR7_G02AËôüËàñ", rank:"SR"},
    {name:"Kodette", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17W1Ê®ìRT103ËôüËàñ", rank:"R"},
    {name:"Deli O", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17WÂú∞‰∏ãRTG02ËôüËàñ", rank:"R"},
    {name:"ÁæéÂøÉMX", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17WÂú∞‰∏ãRTG02BËôüËàñ", rank:"N"},
    {name:"„Ç∞„É´„É°‰∏âÊú®Â±ã", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17W1Ê®ì101ËôüËàñ", rank:"R"},
    {name:"Ê¢®ÊªøÂúíÈüìÂúãÊñôÁêÜ", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí17W1Ê®ìRT105ËôüËàñ", rank:"SR"},
    {name:"ÁõõÂÆ¥", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí19WÂú∞‰∏ãS061-S066ËôüËàñ", rank:"N"},
    // {name:"ÂíåÁî∞‰æøÁï∂", location:"È¶ôÊ∏ØÁßëÂ≠∏ÂúíÁ¨¨‰∫åÊúüÁßëÊäÄÂ§ßÈÅìË•ø19Ëôü19WÂ§ßÂ†Ç"},
    {name:"Hunky Dory", location:"È¶ôÊ∏ØÁßëÂ≠∏Âúí19W2Ê®ì245ËôüËàñ", rank:"SSR"},
    {name:"Â£ΩÂè∏ÈÉé (Á¶æËºãÂª£Â†¥)", location:"Á¶æËºãÂª£Â†¥2Ê®ì227ËôüËàñ", rank:"UR"},
  ];

  const list = document.getElementById("list");
  const randomBtn = document.getElementById("randomBtn");
  const resetBtn = document.getElementById("resetBtn");

  // ---- render ----
//   function render(){
//     list.innerHTML = data.map(d=>`
//       <div class="card">
//         <div class="title">${d.name}</div>
//         <div class="meta">${d.location}</div>
//       </div>
//     `).join("");
//     randomBtn.disabled = false;
//     randomBtn.textContent = "üé≤";
//   }

    function render(){
    list.innerHTML = data.map(d=>{
        const rank = (d.rank || "N").toUpperCase();              // default to N if missing
        const rankClass = `rank-${rank}`;                         // e.g., rank-UR
        const badge = `<span class="rank-badge">${rank}</span>`;  // small chip

        return `
        <div class="card ${rankClass}">
            <div class="title">${d.name} ${badge}</div>
            <div class="meta">${d.location}</div>
        </div>
        `;
    }).join("");

    randomBtn.disabled = false;
    randomBtn.textContent = "üé≤";
    }


  render();

  // ---- helpers ----
  const aliveCards = () =>
    Array.from(document.querySelectorAll(".card")).filter(c=>!c.classList.contains("gone"));

  function eliminateOnce(){
    return new Promise(resolve=>{
      const cards = aliveCards();
      if(cards.length <= 1){ resolve(false); return; }

      const pick = cards[Math.floor(Math.random()*cards.length)];
      const dir = Math.random()<0.5 ? "swipe-left" : "swipe-right";
      pick.classList.add(dir);

      pick.addEventListener("animationend", () => {
        pick.classList.remove(dir);
        pick.classList.add("gone");
        const remain = aliveCards();
        if(remain.length === 1){
          remain[0].classList.add("winner");
          resolve(false); // stop loop
        }else{
          resolve(true);  // continue loop
        }
      }, {once:true});
    });
  }

  // ---- tournament loop ----
  let running = false;

  async function runTournament(){
    if(running) return;
    running = true;
    randomBtn.disabled = true;
    randomBtn.textContent = "‚Ä¶"; // small busy hint

    // small pacing delay so each swipe is visible
    const wait = ms => new Promise(r=>setTimeout(r, ms));

    let keepGoing = true;
    while(keepGoing){
      keepGoing = await eliminateOnce();
      if(keepGoing) await wait(5); // adjust speed here
    }

    randomBtn.textContent = "üéâ";
    running = false;
  }

  // ---- events ----
  randomBtn.onclick = runTournament;
  resetBtn.onclick = () => { list.querySelectorAll(".winner").forEach(w=>w.classList.remove("winner")); render(); };
</script>



</body>
</html>
